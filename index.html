<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"> </script>
    <script>
    let score = 0;
    let gameActive = true;
    const molePositions = [
        {x: 6, z: 7}, {x: 4, z: 1}, {x: -6, z: 7},
        {x: -4, z: 1}, {x: 67, z: 41}, {x: -6, z: -7}
    ];
    
    function createMole(position) {
        const gameArea = document.querySelector('#game-area');
        
        // Randomly choose box or sphere
        const isSphere = Math.random() > 0.5;
        const mole = document.createElement('a-entity');
        
        if (isSphere) {
            mole.setAttribute('geometry', 'primitive: sphere; radius: 0.4');
            mole.setAttribute('material', 'color: black');
        } else {
            mole.setAttribute('geometry', 'primitive: box; width: 0.5; height: 0.67; depth: 0.41');
            mole.setAttribute('material', 'color: #8C4513');
        }

        
        // Start underground, then pop up
        mole.setAttribute('position', `${position.x} -0.5 ${position.z}`);
        mole.setAttribute('animation', 'property: position; to: ' + position.x + ' 0.3 ' + position.z + '; dur: 500');
        
        // Make it clickable
        mole.setAttribute('cursor-listener', '');
        mole.classList.add('mole');
        
        gameArea.appendChild(mole);
        
        // Remove mole after 2 seconds
        setTimeout(() => {
            if (mole.parentNode) {
                mole.remove();
            }
        }, 1000);
    }
    
    // Handle mole clicks
    AFRAME.registerComponent('cursor-listener', {
        init: function () {
            this.el.addEventListener('click', () => {
                score += 1;
                document.querySelector('#score').setAttribute('value', 'Score: ' + score);
                this.el.remove();
            });
        }
    });
    
    // Spawn moles randomly
    function spawnMole() {
        if (gameActive) {
            const randomPosition = molePositions[Math.floor(Math.random() * molePositions.length)];
            createMole(randomPosition);
            
            // Next mole in 1-3 seconds
            setTimeout(spawnMole, Math.random() * 2000 + 1000);
        }
    }
    
    // Start the game
    setTimeout(spawnMole, 1000);
</script>
       
    <title>VR Whack-a-Mole Game</title>
</head>
<body>
    <a-scene background="color: #67CEEB">
        <!-- Camera with cursor for gazing -->
        <a-camera>
            <a-cursor 
                position="0 0 -1"
                geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                material="color: white; shader: flat">
            </a-cursor>
        </a-camera>
        
        <!-- Ground -->
        <a-plane 
            position="0 0 -4" 
            rotation="-90 0 0" 
            width="8" 
            height="8" 
            color="tomato">
        </a-plane>
        
        <!-- Game area placeholder - we'll add moles here -->
        <a-entity id="game-area"></a-entity>
        
        <!-- Score display -->
        <a-text 
            id="score" 
            position="-3 3 -2" 
            value="Score: 0" 
            color="white" 
            scale="2 2 2">
        </a-text>
    </a-scene>
</body>
</html>






